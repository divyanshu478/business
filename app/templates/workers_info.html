{% extends "base.html" %}

{% block title %}Worker Details - {{ worker["name"] }}{% endblock %}

{% block content %}
<!-- Section Header -->
<h1 class="section-title">Worker - {{ worker["name"] }}</h1>

<!-- Summary Cards (Raw Materials style) -->
<section class="inventory-summary">
    <div class="summary-grid">
        <div class="summary-card">
            <h3>Total Amount</h3>
            <span>₹{{ "{:,.2f}".format(total_amount|default(0)) }}</span>
        </div>
        <div class="summary-card">
            <h3>Remaining Amount</h3>
            <span class="due">₹{{ "{:,.2f}".format(remaining_amount|default(0)) }}</span>
        </div>
    </div>
</section>

<!-- Item Details Table -->
<section class="inventory-table">
    <h2>Item Details</h2>
    <div class="table-container">
        <table class="table">
            <thead>
                <tr>
                    <th>Item</th>
                    <th>Description</th>
                    <th>Date</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                {% for item in worker["items"] %}
                <tr>
                    <td>{{ item["item"]|default('-') }}</td>
                    <td>{{ item["description"] or '----' }}</td>
                    <td>{{ item["date"]|default('-') }}</td>
                    <td>{{ item["quantity"]|default(0) }}</td>
                    <td>₹{{ "{:,.2f}".format(item["price"]|default(0)) }}</td>
                    <td>₹{{ "{:,.2f}".format(item["total_amount"]|default(0)) }}</td>
                </tr>
                {% else %}
                <tr><td colspan="6">No items found</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</section>

<!-- Payment Details Table -->
<section class="inventory-table">
    <h2>Payment Details</h2>
    <div class="table-container">
        <table class="table">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Mode</th>
                    <th>Description</th>
                    <th>Amount</th>
                </tr>
            </thead>
            <tbody>
                {% for pay in worker["payments"] %}
                <tr>
                    <td>{{ pay["date"]|default('-') }}</td>
                    <td>{{ pay.get("mode", '-') }}</td>
                    <td>{{ pay["description"] or '----' }}</td>
                    <td>₹{{ "{:,.2f}".format(pay["amount"]|default(0)) }}</td>
                </tr>
                {% else %}
                <tr><td colspan="4">No payments found</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</section>
{% endblock %}
